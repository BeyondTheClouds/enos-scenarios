---
# ############################################### #
# Enos Configuration File                         #
# ############################################### #

name: OpenStack/OSProfiler

# Resources Provider. Values are: g5k, vagrant
provider: 
  type: vagrant
  box: bento/debian-8.7

resources:
  extra-large:
    compute: 1

enable_monitoring: false

# ############################################### #
# Inventory to use                                #
# ############################################### #

# This will describe the topology of your services
inventory: /home/rfish/prog/inria-perso/enos-scenarios/osprofiler/inventory

# ############################################### #
# Kolla parameteres                               #
# ############################################### #
# Repository
kolla_repo: "https://git.openstack.org/openstack/kolla-ansible"
kolla_ref: "stable/ocata"

# globals.yml
kolla:
  kolla_base_distro: "centos"
  kolla_install_type: "source"
  docker_namespace: "beyondtheclouds"
  openstack_release: "osprofiler-support" # Contains pymongo into
                                          # the list of dependencies
  openstack_logging_debug: "True"

  enable_heat: "no"

  # # OSProfiler Specific --
  # # There is two ways to enable OSProfiler. First by using
  # # `oslo.messaging` to write trace events and then let
  # # Ceilometer/Panko manage these events. Or, directly by writing
  # # events into mongodb.
  # #
  # # - OSProfiler using Oslo_messagig/Ceilometer/Panko
  # enable_ceilometer: "yes"
  # ceilometer_database_type: "mysql" # Prevents from installing mongodb.
  #                                   # however, gnocchi is a better choice
  # ceilometer_event_type: "panko"
  # enable_panko: "yes"               # Default panko database is mysql
  # # - OSProfiler using mongodb
  enable_mongodb: "yes"
  node_custom_config: /home/rfish/prog/inria-perso/enos-scenarios/osprofiler/patches

patches:
  - name: Replace !/bin/bash with !/usr/bin/env bash
    src: /home/rfish/prog/inria-perso/enos-scenarios/osprofiler/patches/kolla-ansible
    dst: kolla/tools/kolla-ansible
    enabled: "yes"

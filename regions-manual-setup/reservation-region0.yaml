---
# ############################################### #
# Grid'5000 reservation parameters                #
# ############################################### #

name: disco-region0
walltime: "3:00:00"
# reservation: "2016-12-06 12:47:00"

resources:
  paravance:
  # parasilo:
    control: 1

vlans:
  # mandatory : you need to have exacly one vlan
  rennes: "{type='kavlan'}/vlan=1"

# Be less strict on node distribution especially
# when nodes are missing in the reservation
# or not deployed
role_distribution: debug

enable_monitoring: false

# ############################################### #
# Inventory to use                                #
# ############################################### #

# This will describe the topology of your services
inventory: /home/rcherrueau/regions-manual-setup/inventory-region0

# ############################################### #
# docker registry parameters
# ############################################### #
registry:
  ceph: true
  ceph_keyring: /home/discovery/.ceph/ceph.client.discovery.keyring
  ceph_id: discovery
  ceph_rbd: discovery_kolla_registry/datas

# ############################################### #
# Kolla parameteres (globals.yml)                 #
# ############################################### #
kolla_branch: "3.0.1"

kolla:
  kolla_base_distro: "centos"
  kolla_install_type: "source"
  openstack_release: "3.0.1"
  docker_namespace: "beyondtheclouds"

  openstack_region_name: "Region0"

  openstack_regions:
    - "Region0"
    - "Region1"
    - "Region2"

  # enable_haproxy: false
  # enable_keystone: false
  # enable_memcached: false
  enable_kibana: false
  enable_elasticsearch: false
  enable_glance: false
  enable_neutron: false
  enable_nova: false
  enable_rabbitmq: false

  enable_heat: false

  # Patch files to support multi-region (in particular, horizon)
  node_custom_config: /home/rcherrueau/regions-manual-setup/patches

patches:
  - name: patches keyston to register n endpoint
    src: /home/rcherrueau/regions-manual-setup/patches/register.yml
    dst: kolla/ansible/roles/keystone/tasks/register.yml
    enabled: true
